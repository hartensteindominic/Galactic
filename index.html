<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galactic</title>
    <script>
        // Check localStorage for existing subscriptions on page load
        window.onload = function() {
            const activeTier = localStorage.getItem('activeSubscription');
            if (activeTier) {
                document.getElementById('subscriptionStatus').innerText = `Active Subscription: ${activeTier}`;
                document.getElementById('subscribeButton' + activeTier).innerText = '✅ Active';
                // Enable AR/VR mode buttons if relevant
                toggleARVRButtons(activeTier);
            }
        };

        function handlePaymentSuccess(tier) {
            // Save subscription data after successful transaction
            localStorage.setItem('activeSubscription', tier);
            document.getElementById('subscriptionStatus').innerText = `Active Subscription: ${tier}`;
            document.getElementById('subscribeButton' + tier).innerText = '✅ Active';
            // Enable AR/VR mode buttons if relevant
            toggleARVRButtons(tier);
        }

        function toggleARVRButtons(tier) {
            // Example of enabling buttons, implement logic per tier
            if (tier === 'AR') {
                document.getElementById('arButton').disabled = false;
            } else if (tier === 'VR') {
                document.getElementById('vrButton').disabled = false;
            }
        }
    </script>
</head>
<body>
    <!-- Existing 3D garden and MetaMask connection code would go here -->
    <div id="subscriptionStatus" style="font-weight: bold;"></div>
    <button id="subscribeButtonAR" onclick="handlePaymentSuccess('AR')">Subscribe to AR</button>
    <button id="subscribeButtonVR" onclick="handlePaymentSuccess('VR')">Subscribe to VR</button>
    <button id="subscribeButtonPremium" onclick="handlePaymentSuccess('Premium')">Subscribe to Premium</button>
    <button id="arButton" disabled>AR Mode</button>
    <button id="vrButton" disabled>VR Mode</button>
    <!-- Payment processing modal code would be here -->
</body>
</html>