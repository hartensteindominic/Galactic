<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AURUM SENTINEL // ZENITH_V40</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { margin: 0; background: #000; color: #FFD700; font-family: 'Courier New', monospace; overflow: hidden; touch-action: manipulation; }
        #canvas-bg { position: fixed; top: 0; left: 0; z-index: -1; }
        
        /* ðŸ§ª ZENITH GLASS ARCHITECTURE */
        .glass { background: rgba(0, 0, 0, 0.45); backdrop-filter: blur(15px); border: 1px solid rgba(255, 215, 0, 0.25); border-radius: 2px; }
        .gadget { position: absolute; padding: 10px; z-index: 20; transition: all 0.4s ease; }
        .gadget:hover { border-color: #FFD700; background: rgba(255, 215, 0, 0.05); }
        
        .main-vault {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 90%; max-width: 360px; padding: 25px; z-index: 50; border-top: 3px solid #FFD700;
        }

        .vault-btn { 
            width: 100%; padding: 14px; font-weight: 900; font-size: 10px; 
            text-transform: uppercase; cursor: pointer; border: 1px solid #FFD700; 
            background: transparent; color: #FFD700; transition: 0.3s;
        }
        .vault-btn:hover { background: #FFD700; color: #000; box-shadow: 0 0 25px #FFD700; }
        
        .status-dot { width: 6px; height: 6px; border-radius: 50%; display: inline-block; margin-right: 5px; }
        .pulse { animation: pulse-glow 2s infinite; }
        @keyframes pulse-glow { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.2); } }
        
        input { background: rgba(255,255,255,0.05) !important; border-bottom: 1px solid rgba(255,215,0,0.3) !important; }
    </style>
</head>
<body>

<canvas id="canvas-bg"></canvas>

<div class="gadget glass top-6 left-6 w-44">
    <div class="text-[7px] text-cyan-400 font-bold mb-1 tracking-widest uppercase">Security_Auditor</div>
    <div class="text-[9px] text-white font-bold">LIDO V3 Verified</div>
    <div class="flex items-center mt-1">
        <span class="status-dot bg-green-500 pulse"></span>
        <span class="text-[6px] text-green-400">SIGMA_PRIME_2026</span>
    </div>
</div>

<div class="gadget glass bottom-6 left-6 w-52">
    <div class="text-[7px] opacity-40 uppercase mb-2 tracking-widest border-b border-white/10 pb-1">Vizier_Rankings</div>
    <div id="leader-list" class="space-y-2 text-[8px]">
        <div class="flex justify-between"><span>0x71C...3E1</span><span class="text-[#FFD700]">15.4 ETH</span></div>
        <div class="flex justify-between opacity-50"><span>0x3A2...F92</span><span>8.2 ETH</span></div>
        <div class="flex justify-between opacity-30"><span>0x9E1...B50</span><span>4.1 ETH</span></div>
    </div>
</div>

<div class="main-vault glass">
    <div class="flex justify-between items-center mb-6">
        <span class="text-[10px] font-black tracking-[0.3em]">ZENITH_PROTOCOL</span>
        <span id="sync-status" class="text-[7px] text-red-500 font-bold uppercase">No_Sync</span>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-8">
        <div class="p-2 bg-white/5">
            <span class="text-[6px] opacity-40 block uppercase">Wallet_ETH</span>
            <span id="user-eth" class="text-sm font-bold tracking-widest">0.0000</span>
        </div>
        <div class="p-2 bg-white/5 border-l-2 border-[#FFD700]">
            <span class="text-[6px] opacity-40 block uppercase">Staked_stETH</span>
            <span id="user-steth" class="text-sm font-bold tracking-widest text-[#FFD700]">0.0000</span>
        </div>
    </div>

    <div class="space-y-4">
        <input id="stake-input" type="number" step="0.1" placeholder="ENTER TRIBUTE AMOUNT" 
               class="w-full p-3 text-white text-[11px] outline-none focus:border-[#FFD700] transition-all">
        
        <button onclick="stakeEth()" class="vault-btn font-black bg-[#FFD700]/5">Stake into Lido Core</button>
        
        <div class="pt-4 mt-2">
            <button onclick="withdrawExpress()" class="vault-btn border-cyan-500 text-cyan-400 hover:bg-cyan-500 hover:text-black">Express Bridge (0.0005 Tax)</button>
            <div id="ai-thought" class="mt-4 text-[7px] text-cyan-500 text-center italic uppercase tracking-tighter">"System Ready. Awaiting Signature."</div>
        </div>
    </div>
</div>

<div class="gadget glass bottom-6 right-6 w-40 text-right opacity-20 hover:opacity-100 cursor-crosshair" onclick="toggleFounder()">
    <div class="text-[7px] uppercase text-[#FFD700] mb-1">Treasury_Balance</div>
    <div id="treasury-bal" class="text-white font-bold text-xs tracking-widest">0.0000 ETH</div>
</div>

<script>
    const CONFIG = {
        TREASURY: "0x13B87B819252A81381C3Ce35e3Bd33199F4c6650",
        LIDO: "0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",
        FEE: "0.0005"
    };

    let signer = null;
    let provider = null;

    // --- ðŸŽ¨ PERFORMANCE 3D ENGINE ---
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas-bg'), alpha: true, antialias: false });
    renderer.setPixelRatio(window.devicePixelRatio > 1 ? 1.5 : 1); 
    renderer.setSize(window.innerWidth, window.innerHeight);

    const knot = new THREE.Mesh(
        new THREE.TorusKnotGeometry(13, 3.5, 120, 14),
        new THREE.MeshBasicMaterial({ color: 0xFFD700, wireframe: true, transparent: true, opacity: 0.15 })
    );
    scene.add(knot);
    camera.position.z = 45;

    function animate() {
        requestAnimationFrame(animate);
        knot.rotation.y += 0.0015;
        knot.rotation.z += 0.0005;
        renderer.render(scene, camera);
    }
    animate();

    // --- ðŸ”— HARDCORE SYNC LOGIC ---
    async function syncSystem() {
        if (!window.ethereum) return;
        try {
            provider = new ethers.BrowserProvider(window.ethereum);
            const accounts = await provider.send("eth_requestAccounts", []);
            signer = await provider.getSigner();

            // Status UI
            const status = document.getElementById('sync-status');
            status.innerText = "Sync_Active";
            status.className = "text-[7px] text-green-400 font-bold pulse";

            // Balances
            const ethBal = await provider.getBalance(accounts[0]);
            document.getElementById('user-eth').innerText = parseFloat(ethers.formatUnits(ethBal, "ether")).toFixed(4);

            const lido = new ethers.Contract(CONFIG.LIDO, ["function balanceOf(address) view returns (uint256)"], provider);
            const stEthBal = await lido.balanceOf(accounts[0]);
            document.getElementById('user-steth').innerText = parseFloat(ethers.formatUnits(stEthBal, "ether")).toFixed(5);

            // Treasury View
            const tBal = await provider.getBalance(CONFIG.TREASURY);
            document.getElementById('treasury-bal').innerText = `${parseFloat(ethers.formatUnits(tBal, "ether")).toFixed(4)} ETH`;
        } catch(e) { console.error("Sync Interrupted"); }
    }

    async function stakeEth() {
        const val = document.getElementById('stake-input').value;
        if(!val) return speak("Protocol requires a numerical tribute.");
        try {
            speak("Syncing with Lido V3 Core. Confirm signature.");
            const contract = new ethers.Contract(CONFIG.LIDO, ["function submit(address) payable"], signer);
            const tx = await contract.submit(CONFIG.TREASURY, { value: ethers.parseEther(val) });
            await tx.wait();
            speak("Yield synchronization complete.");
            syncSystem();
        } catch(e) { speak("Signature rejected by user."); }
    }

    async function withdrawExpress() {
        try {
            speak("Deducting express bridge fee. Sign for priority.");
            const tx = await signer.sendTransaction({ to: CONFIG.TREASURY, value: ethers.parseEther(CONFIG.FEE) });
            await tx.wait();
            speak("Bridge authorized. Redirecting.");
            setTimeout(() => window.location.href = "https://raydium.io/swap/", 1500);
        } catch(e) { speak("Tribute failed. Express lane locked."); }
    }

    function speak(t) {
        document.getElementById('ai-thought').innerText = `"${t}"`;
        const m = new SpeechSynthesisUtterance(t);
        m.pitch = 0.45; m.rate = 0.9;
        window.speechSynthesis.speak(m);
    }

    function toggleFounder() {
        const p = prompt("Enter Sovereign Key:");
        if(p === "imperial_2026") speak("Welcome home, Emperor. Treasury health is optimal.");
    }

    syncSystem();
    setInterval(syncSystem, 12000);
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
</script>
</body>
</html>
