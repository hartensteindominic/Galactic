<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Galactic</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #090b18;
      --panel: #121631;
      --text: #e7ebff;
      --accent: #7ad0ff;
      --muted: #9ea8d7;
      --danger: #ff6f91;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #1e2456, var(--bg));
      color: var(--text);
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 2rem;
    }

    .card {
      width: min(720px, 100%);
      background: linear-gradient(180deg, #1a1f45, var(--panel));
      border: 1px solid #2b336b;
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
    }

    h1 {
      font-size: clamp(1.5rem, 3vw, 2rem);
      margin-bottom: 0.4rem;
    }

    p {
      color: var(--muted);
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .hud {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .tile {
      background: rgba(14, 20, 50, 0.55);
      border: 1px solid #2f3874;
      border-radius: 10px;
      padding: 0.75rem;
      text-align: center;
    }

    .tile strong {
      display: block;
      font-size: 1.3rem;
      margin-top: 0.2rem;
    }

    #game {
      width: 100%;
      height: 300px;
      border-radius: 12px;
      border: 1px solid #2f3874;
      background: linear-gradient(180deg, #0f1436, #0a0f2b);
      cursor: crosshair;
    }

    .controls {
      display: flex;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    button {
      border: 0;
      border-radius: 10px;
      padding: 0.65rem 1rem;
      cursor: pointer;
      font-weight: 600;
    }

    .primary {
      background: var(--accent);
      color: #091120;
    }

    .ghost {
      background: transparent;
      border: 1px solid #49539b;
      color: var(--text);
    }

    .danger {
      color: var(--danger);
    }
  </style>
</head>
<body>
  <main class="card">
    <h1>Galactic Target Practice</h1>
    <p>The game starts immediately when the page loads. Click targets before they disappear.</p>

    <section class="hud">
      <div class="tile">Score<strong id="score">0</strong></div>
      <div class="tile">Time<strong id="time">30</strong></div>
      <div class="tile">Best<strong id="best">0</strong></div>
    </section>

    <canvas id="game" width="680" height="300" aria-label="Game board"></canvas>

    <div class="controls">
      <button class="primary" id="restart">Play again</button>
      <button class="ghost" id="pause">Pause</button>
    </div>
    <p id="status"></p>
  </main>

  <script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');
    const timeEl = document.getElementById('time');
    const bestEl = document.getElementById('best');
    const statusEl = document.getElementById('status');

    let score = 0;
    let timeLeft = 30;
    let best = Number(localStorage.getItem('galacticBest') || 0);
    let paused = false;
    let gameOver = false;
    let target = null;

    bestEl.textContent = best;

    function spawnTarget() {
      target = {
        x: 40 + Math.random() * (canvas.width - 80),
        y: 40 + Math.random() * (canvas.height - 80),
        radius: 18 + Math.random() * 12,
        life: 0
      };
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#172059';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      if (target) {
        ctx.beginPath();
        ctx.arc(target.x, target.y, target.radius, 0, Math.PI * 2);
        ctx.fillStyle = '#7ad0ff';
        ctx.fill();

        ctx.beginPath();
        ctx.arc(target.x, target.y, Math.max(4, target.radius - 10), 0, Math.PI * 2);
        ctx.fillStyle = '#090b18';
        ctx.fill();
      }
    }

    function tick() {
      if (paused || gameOver) {
        draw();
        requestAnimationFrame(tick);
        return;
      }

      if (!target) {
        spawnTarget();
      }

      target.life += 1 / 60;
      if (target.life >= 1.1) {
        target = null;
      }

      draw();
      requestAnimationFrame(tick);
    }

    function startCountdown() {
      statusEl.textContent = 'Game on!';
      const timer = setInterval(() => {
        if (paused || gameOver) {
          if (gameOver) clearInterval(timer);
          return;
        }

        timeLeft -= 1;
        timeEl.textContent = timeLeft;

        if (timeLeft <= 0) {
          gameOver = true;
          if (score > best) {
            best = score;
            localStorage.setItem('galacticBest', String(best));
            bestEl.textContent = best;
          }
          statusEl.innerHTML = `Round over! Final score: <span class="danger">${score}</span>.`;
          clearInterval(timer);
        }
      }, 1000);
    }

    function resetGame() {
      score = 0;
      timeLeft = 30;
      paused = false;
      gameOver = false;
      target = null;
      scoreEl.textContent = score;
      timeEl.textContent = timeLeft;
      statusEl.textContent = 'Game on!';
      startCountdown();
    }

    canvas.addEventListener('click', (event) => {
      if (gameOver || paused || !target) return;

      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      const distance = Math.hypot(x - target.x, y - target.y);

      if (distance <= target.radius) {
        score += 1;
        scoreEl.textContent = score;
        target = null;
      }
    });

    document.getElementById('pause').addEventListener('click', () => {
      if (gameOver) return;
      paused = !paused;
      statusEl.textContent = paused ? 'Paused.' : 'Game on!';
      document.getElementById('pause').textContent = paused ? 'Resume' : 'Pause';
    });

    document.getElementById('restart').addEventListener('click', resetGame);

    resetGame();
    tick();
  </script>
</body>
</html>
